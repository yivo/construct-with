(function(){var t=function(t,r){function n(){this.constructor=t}for(var o in r)e.call(r,o)&&(t[o]=r[o]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t},e={}.hasOwnProperty;!function(t){var e;e="object"==typeof self&&("undefined"!=typeof self&&null!==self?self.self:void 0)===self?self:"object"==typeof global&&("undefined"!=typeof global&&null!==global?global.global:void 0)===global?global:void 0,"function"==typeof define&&define.amd?define(["lodash","yess","exports"],function(r){return e.ConstructWith=t(e,r)}):"object"==typeof module&&null!==module&&null!=module.exports&&"object"==typeof module.exports?module.exports=t(e,require("lodash"),require("yess")):e.ConstructWith=t(e,e._)}(function(e,r){var n,o,s,i,a,u,l,c;return s=r.extend,u=r.isObject,a=r.isFunction,i=r.getProperty,l=r.setProperty,o=function(t){var e,r;return r=t.prototype,e=r.__params,e?r.hasOwnProperty("__params")===!1?r.__params=[].concat(e):e:r.__params=[]},c=function(t,e,r){var n,o,i,a,u,l,c,p;for(a=-1,i=u=0,l=t.length;l>u;i=++u)if(o=t[i],o.name===e){a=i;break}return a>-1&&(c=t[a]),c=s({name:e},c,r),c.as||(n=e.slice(e.lastIndexOf(".")+1),p=c.prefix,c.as=p?p+n:n),a>-1?t[a]=c:t.push(c),c},n=function(e){function r(t,e){this.name="MissingParameterError",this.message="[ConstructWith] "+(t.constructor.name||t)+" requires parameter '"+e+"' to present in constructor",r.__super__.constructor.call(this,this.message),("function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.name):void 0)||(this.stack=(new Error).stack)}return t(r,e),r}(Error),{included:function(t){return t.initializer("construct-with",function(t){var e;e=a(this.options)?this.options():this.options,this.options=s({},e,t),this.__params&&this.constructWith(this.options)})},InstanceMembers:{constructWith:function(t){var e,r,o,s,a,u,c;for(a=this.__params,e=0,r=a.length;r>e;e++)if(s=a[e],o=s.name,c=null!=(u=i(t,o))?u:i(this,o),null!=c)l(this,s.as,c),s.alias&&l(this,s.alias,c);else if(s.required)throw new n(this,s.name);return this}},ClassMembers:{param:function(t,e){return this.params(t,e)},params:function(){var t,e,r,n;for(r=arguments.length,n=r>0&&arguments[r-1],u(n)||(n=void 0),e=-1,r>0&&(t=o(this));++e<r&&arguments[e]!==n;)c(t,arguments[e],n);return this}}}})}).call(this);