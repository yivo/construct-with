(function(){var extend1=function(t,e){function r(){this.constructor=t}for(var o in e)hasProp.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;!function(t){var e;e="object"==typeof self&&("undefined"!=typeof self&&null!==self?self.self:void 0)===self?self:"object"==typeof global&&("undefined"!=typeof global&&null!==global?global.global:void 0)===global?global:void 0,"function"==typeof define&&define.amd?define(["lodash","yess","exports"],function(r){return e.ConstructWith=t(e,r)}):"object"==typeof module&&null!==module&&null!=module.exports&&"object"==typeof module.exports?module.exports=t(e,require("lodash"),require("yess")):e.ConstructWith=t(e,e._)}(function(__root__,_){var MissingParameterError,extend,getProperty,isFunction,isObject,setProperty,storeParameter,supportsConst;return supportsConst=function(){try{return eval("const BLACKHOLE;"),!0}catch(_error){return!1}}(),eval(supportsConst?"const PARAMS = '_' + _.generateID();":"var PARAMS = '_' + _.generateID();"),extend=_.extend,isObject=_.isObject,isFunction=_.isFunction,getProperty=_.getProperty,setProperty=_.setProperty,storeParameter=function(t,e,r){var o,n,s,i,a,u,c,l;for(i=-1,s=a=0,u=t.length;u>a;s=++a)if(n=t[s],n.name===e){i=s;break}return i>-1&&(c=t[i]),c=extend({name:e},c,r),c.as||(o=e.slice(e.lastIndexOf(".")+1),l=c.prefix,c.as=l?l+o:o),i>-1?t[i]=c:t.push(c),c},MissingParameterError=function(t){function e(t,r){this.name="MissingParameterError",this.message="[ConstructWith] "+(t.constructor.name||t)+" requires parameter '"+r+"' to present in constructor",e.__super__.constructor.call(this,this.message),("function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.name):void 0)||(this.stack=(new Error).stack)}return extend1(e,t),e}(Error),{included:function(t){return t.initializer("construct-with",function(t){var e;e=isFunction(this.options)?this.options():this.options,this.options=extend({},e,t),this[PARAMS]&&this.constructWith(this.options)})},InstanceMembers:{constructWith:function(t){var e,r,o,n,s,i,a;for(s=this[PARAMS],e=0,r=s.length;r>e;e++)if(n=s[e],o=n.name,a=null!=(i=getProperty(t,o))?i:getProperty(this,o),null!=a)setProperty(this,n.as,a),n.alias&&setProperty(this,n.alias,a);else if(n.required)throw new MissingParameterError(this,n.name);return this}},ClassMembers:{param:function(t,e){return this.params(t,e)},params:function(){var t,e,r,o;for(r=arguments.length,o=r>0&&arguments[r-1],isObject(o)||(o=void 0),e=-1,r>0&&(t=this.reopenArray(PARAMS));++e<r&&arguments[e]!==o;)storeParameter(t,arguments[e],o);return this}}}})}).call(this);