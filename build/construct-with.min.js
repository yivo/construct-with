(function(){!function(t,e){"function"==typeof define&&define.amd?define(["lodash","yess"],function(r){return t.ConstructWith=e(t,r)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(t,require("lodash"),require("yess")):t.ConstructWith=e(t,t._)}(this,function(t,e){var r,n,s,i,o,a,u;return n=e.extend,o=e.isObject,i=e.isFunction,s=e.getProperty,a=e.setProperty,r=function(t){var e,r;return r=t.prototype,e=r.__parameters,e?r.hasOwnProperty("__parameters")===!1?r.__parameters=[].concat(e):e:r.__parameters=[]},u=function(t,e,r){var s,i,o,a,u,c,h,f;for(o=-1,i=a=0,u=t.length;u>a;i=++a)if(f=t[i],f.name===e){o=i;break}return o>-1&&(c=t[o]),c=n({name:e},c,r),c.as||(s=e.slice(e.lastIndexOf(".")+1),c.as=(h=c.prefix)?h+s:s),o>-1?t[o]=c:t.push(c),c},{InstanceMembers:{constructWith:function(t){var e,r,u,c,h,f,p,m;if(c=this.options,i(c)&&(c=this.options()),this.options=n({},c,t),!o(t)||!(f=this.__parameters))return this;for(e=0,r=f.length;r>e;e++)if(h=f[e],u=h.name,m=null!=(p=s(t,u))?p:s(this,u),null!=m)a(this,h.as,m),h.alias&&a(this,h.alias,m);else if(h.required)throw new Error("[ConstructWith] "+(this.constructor.name||this)+" requires parameter "+u+" to present in constructor");return this}},ClassMembers:{param:function(t,e){return this.params(t,e)},params:function(){var t,e,n,s;for(n=arguments.length,s=n>0&&arguments[n-1],o(s)||(s=void 0),e=-1,n>0&&(t=r(this));++e<n&&arguments[e]!==s;)u(t,arguments[e],s);return this}}}})}).call(this);